(this["webpackJsonpreact-hw-6"]=this["webpackJsonpreact-hw-6"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=a(5),s=a(1),l=a(2),u=a(4),m=a(3),h=function(e){var t=e.src,a=e.data,n=e.onOpen;return r.a.createElement("li",{className:"ImageGalleryItem",onClick:n},r.a.createElement("img",{src:t,alt:"","data-src":a,className:"ImageGalleryItem-image"}))},p=function(e){var t=e.items,a=e.onOpen;return r.a.createElement("ul",{className:"ImageGallery"},t.length>0&&t.map((function(e){return r.a.createElement(h,{key:e.id,src:e.webformatURL,data:e.largeImageURL,onOpen:a})})))},f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={qvery:""},e.hendleChenge=function(t){e.setState({qvery:t.target.value})},e.hendleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.qvery),e.setState({qvery:""})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.qvery;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{onSubmit:this.hendleSubmit,className:"SearchForm"},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",value:e,onChange:this.hendleChenge,placeholder:"Search images and photos"})))}}]),a}(n.Component),d=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).bacdropRef=Object(n.createRef)(),e.hendleKeyPres=function(t){"Escape"===t.code&&e.props.onClose()},e.hendleBacdropClose=function(t){var a=e.bacdropRef.current;a&&t.target!==a||e.props.onClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.hendleKeyPres)}},{key:"componentWillUnmount",value:function(){window.addEventListener("keydown",this.hendleKeyPres)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:"Overlay",ref:this.bacdropRef,onClick:this.hendleBacdropClose},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:e,alt:""})))}}]),a}(n.Component),v=function(e){var t=e.onPagination;return r.a.createElement("button",{type:"button",className:"Button",onClick:t},"Lear More")},g="https://pixabay.com/api/?key=",b="15017086-40d983aabf64e9bce54bf4312&q=",y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={articles:[],qvery:"",page:0,imagSrc:"",isOpen:!1},e.fetchAcrticle=function(t){e.setState({articles:[],qvery:t,page:1})},e.fetchPaginations=function(){e.setState((function(e){return{page:e.page+1}}))},e.openModal=function(t){e.setState({imagSrc:t.target.dataset.src,isOpen:!0})},e.closeModal=function(){e.setState({imagSrc:"",isOpen:!1})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.page!==this.state.page){var n=this.state;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cat",t=arguments.length>1?arguments[1]:void 0;return fetch(g+b+e+"&page="+t)})(n.qvery,n.page).then((function(e){return e.json()})).then((function(e){return a.setState((function(t){return{articles:[].concat(Object(i.a)(t.articles),Object(i.a)(e.hits))}}))})).catch((function(e){return console.log("ERROR")}))}}},{key:"render",value:function(){var e=this.state,t=e.articles,a=e.isOpen,n=e.imagSrc;return r.a.createElement("div",null,r.a.createElement(f,{onSubmit:this.fetchAcrticle}),r.a.createElement(p,{items:t,onOpen:this.openModal}),r.a.createElement(v,{onPagination:this.fetchPaginations}),a&&r.a.createElement(d,{src:n,onClose:this.closeModal}))}}]),a}(n.Component);a(13);o.a.render(r.a.createElement(y,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.e9c54a73.chunk.js.map